<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Site-Mario</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="shortcut icon" href="./assets/favicon.ico" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mukta:wght@300;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="box-video-mario">
      <video autoplay loop muted src="./assets/video.mp4"></video>
      <div class="mascara-video"></div>
    </div>

    <audio id="music" autoplay>
      <source
        src="./audio/Overworld Theme - Super Mario_ World(MP3_160K).mp3"
        type="audio/mp3"
      />
      Seu navegador não suporta o elemento de áudio.
    </audio>

    <audio id="musicJump" autoplay>
      <source
        src="./audio/Mario Jump Sound Effect(MP3_160K).mp3"
        type="audio/mp3"
      />
      Seu navegador não suporta o elemento de áudio.
    </audio>

    <audio id="musicSendForm" autoplay>
      <source
        src="./audio/Efeito de Som do mario entrando no cano(MP3_128K).mp3"
        type="audio/mp3"
      />
      Seu navegador não suporta o elemento de áudio.
    </audio>

    <div class="box-conteudo">
      <img
        class="logo-super-mario"
        src="./assets/logo (2).png"
        alt="logo Super Mario"
      />
      <p>Encanadores Mario & Luigi - Resolvendo Seus Problemas com Estilo!</p>
      <p>
        Você já se encontrou em uma situação de emergência com encanamento?
        Vazamentos inesperados, canos entupidos ou torneiras que não param de
        pingar? Não se preocupe, porque estamos aqui para salvar o dia!
        Apresentamos a vocês os encanadores mais famosos do Reino dos Cogumelos
        - Mario e Luigi!
      </p>
      <button onclick="cliqueiNoBotao()">Fale conosco</button>
    </div>

    <img class="gif-mario" src="./assets/oie_15182138KSjp2GpQ.gif" alt="" />
    <img class="mario-luigi" src="./assets/mario.png" alt="" />

    <form
      class="fale-conosco"
      action="https://formsubmit.co/ingridferreiradoalira6411@gmail.com"
      method="POST"
    >
      <h2>Fale conosco</h2>
      <input placeholder="Seu nome" type="text" name="name" />
      <input placeholder="Seu telefone" type="tel" name="telefone" />
      <textarea placeholder="Digite seu problema aqui" name="info"></textarea>
      <button onclick="sumirFormulario()">Enviar formulário</button>
    </form>

    <div class="mascara-form"></div>
  </body>
  <script>
    let formulario =
      document.querySelector(
        ".fale-conosco"
      ); /*vá no meu html e selecione o meu formulario por sua classe*/
    let mascara = document.querySelector(".mascara-form");
    let mario = document.querySelector(".gif-mario");
    let musica = document.querySelector("music");
    let musicaJump = document.querySelector("musicJump");
    let musicformularioEnviado = document.querySelector("musicSendForm");

    // Definindo o volume para 50%
    music.volume = 0.2; // Isso define o volume da música principal
    musicJump.volume = 0.05; // Isso define o volume da música de pulo
    musicSendForm.volume = 0.1; //Isso define o volume da música de envio do formulário

    function cliqueiNoBotao() {
      setTimeout(() => {
        /* Código que será executado após o atraso */
        formulario.style.left = "50%";
        formulario.style.transform = "translateX(-50%)";
        mascara.style.visibility = "visible";
      }, 1000); // 1000 milissegundos = 1 segundo

      mario.style.visibility = "visible";
      mario.style.left = "-240px";
      mario.style.bottom = "0";
      music.play();

      // Adiciona um atraso antes de iniciar a música de pulo
      setTimeout(() => {
        musicJump.currentTime = 0; // Reinicia a música de pulo
        musicJump.play();
      }, 650); 
    }

    function sumirFormulario() {
      formulario.style.left = "-320px";
      mascara.style.visibility = "hidden";
      music.pause();
      musicSendForm.play();
    }
  </script>
</html>
